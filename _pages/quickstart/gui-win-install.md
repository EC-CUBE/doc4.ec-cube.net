---
title: Windows環境でXAMPPを使用したインストール方法
keywords: install
tags: [quickstart, install]
permalink: quickstart_install/gui-win-install
forder: quickstart
description: EC-CUBE4系をWindows環境でXAMPPを使用してインストールする方法です。
---

## インストールの前に
こちらでは、Windowsでローカルインストールする方法を説明しています。  
例に使用した環境は下記になります。  
```
// サンプルの構築環境
Windows 10
EC-CUBE 4.0.3
XAMPP 7.2.29
```


## XAMPPをダウンロード、インストール
まずはXAMPPを用意します。  
EC-CUBE4.0.3では、**php7.1 〜7.3**で動作確認がされています。  
そのphpバージョンに合ったXAMPPをダウンロードする必要があります。  

[XAMPP公式サイト](https://www.apachefriends.org/jp/index.html){:target='_blank'}に行き、
メニューからダウンロードページへ移動します。  
該当のphpバージョンのXAMPPをダウンロードします。  
「その他のダウンロード」という項目から古いバージョンのXAMPPもダウンロードできます。

ダウンロードができたらXAMPPをインストールします。  
インストールできたら次にEC-CUBEをダウンロードします。



## EC-CUBEをダウンロードする
[EC-CUBE公式サイトのダウンロードページ](https://www.ec-cube.net/download/){:target='_blank'}から最新版のEC-CUBEをダウンロードします。(この記事では4.0.3になります)  
※ ダウンロードには会員登録が必要になります。  

ダウンロードしたら解凍します。  



## XAMPPにEC-CUBEを配置
解凍したEC-CUBEをXAMPPのhtdocsディレクトリに配置します。    
※ ディレクトリはフォルダの意味になります。  

**配置したディレクトリの構造でショップURLが決まります。**  
`http://127.0.0.1/{htdocsの中に作成したディレクトリ名/}/`  


```
例:htdocsの中にtest-shopというディレクトリを作成し、そこにeccube-4.0.3を入れた場合
■ ディレクトリ構造
Windows(C:)\xampp\htdocs\test-shop\eccube-4.0.3\

■ ショップのトップページURL
http://127.0.0.1/test-shop/eccube-4.0.3/
```
※ まだEC-CUBEをインストールしていないので、こちらのURLにアクセスしてもサイトは表示されません。  
※ eccube-4.0.3の名前も自由に変えられます。 

test-shopを作成せずにeccube-4.0.3のみhtdocsに入れるとショップURLはこのようになります。  
`http://127.0.0.1/eccube-4.0.3/`  


## データベース作成
XAMPPを起動します。  
MySQLの項目の「Start」と「Admin」をクリックしてphpMyAdminを立ち上げます。  
![XAMPP](/images/install/gui-win/xampp1.png)

phpMyAdminが開きます。
![phpMyAdmin](/images/install/gui-win/mysql.png)

新規作成からデータベースを作成します。  
```
例
データベース名
`eccube123_`

照合順序はutf8mb4_general_ciのままで大丈夫です。
``` 

XAMPPにはデータベースアカウントは標準で入っており、そちらを使用してEC-CUBEをインストールします。  
もしアカウントを作成する場合は、メニューのユーザーアカウントから作成してください。

※ 本番環境としてデータベースを作成する場合、ユーザーアカウントを作成してください。  データベースの接続情報（データベース名、アカウント情報等）が外部に漏れると、個人情報の漏洩などの原因になります。  管理にはご注意ください。


## iniファイルの編集

XAMPPを起動します。  
ApacheとMySQLのAction項目のStartをクリックします。  
![XAMPP](/images/install/gui-win/xampp2.png)

ブラウザから、以下にアクセスします。  
`http://127.0.0.1/{EC-CUBEをアップロードしたディレクトリ名/}/index.php/install/`  

インストール画面が表示されます。  

「intl拡張モジュールが有効になっていません」というエラーが表示されています。  

以下の場所からphp.iniファイルを編集し設定を変更します。  
`Windows(C:）\xampp\php\php.ini`  

php.iniを開いたら、ファイル内を「intl」で検索します。  

```
;extension=intl
```
このような1行が見つかるので、;を外します。  
以下のようになれば保存します。
```
extension=intl
```

次にphp.iniファイルの中でタイムアウトの設定を変更します。  
XAMPP環境は動作が遅く、インストールの時にタイムアウトがたびたび起きてしまいます。  
「max_execution_time」と検索すると次のような1行が見つかります。
```
max_execution_time=30
```
以下のように変更します。  
```
max_execution_time=120
```
※ ご使用のPCスペックに不安がある場合は、もう少し大きな数字に変更することをオススメします。  

```
// 例
max_execution_time=300
```
一度、XAMPPを再起動します。  
XAMPPのApacheとMySQLのAction項目をStopします。  
10秒ほど時間を置いてから再び、Startをさせます。

ブラウザから、再び以下にアクセスします。  
`http://127.0.0.1/{EC-CUBEをアップロードしたディレクトリ名/}/index.php/install/`  

![install step1](/images/install/step1.png)

「intl拡張モジュールが有効になっていません」のエラーが消えていれば、php.iniの設定変更は完了になります。

それではインストールを始めます。

*次へ進む*をクリックします。


## EC-CUBEのインストール


![install step2](/images/install/step2.png)
*次へ進む*をクリックします。


### サイトの設定

![install step3](/images/install/step3.png)

#### 店舗の基本情報

- **あなたの店名**
  - 店名を入力してください。日本語でも大丈夫です。
- **メールアドレス**
  - ここで指定するメールアドレス宛に注文通知メールなどが送信されます。
- **管理画面ログインID**
  - 管理画面にログインする際に利用する管理者のログインIDです。一番権限の強いスーパーユーザーなので、「admin」などの推測されやすいIDは不正アクセスや情報漏洩の元になるので避けてください。  適当な意味を持たない文字列が良いです。
- **管理画面パスワード**
  - 上記の管理者がログインする際に使用するパスワードを指定します。  ここで指定するパスワードを忘れると**管理画面にログインできなくなる**ので必ず控えてください。  
  EC-CUBEには**管理者のパスワード再発行機能は実装されていません。**  
  管理者ログインIDと同様に意味を持たない複雑なパスワードにしてください。  
  「test1234」や「password」などは**絶対避けてください**  
- **管理画面のディレクトリ名**  
  - 管理画面にアクセスする場合のURLになります。  
  https://www.example.com/{EC-CUBEをインストールしたディレクトリ}/{管理画面のディレクトリ名}/ でアクセスする事になります。  
  こちらのディレクトリ名も「admin」や「dashboard」など推測されやすい文字列を指定すると危険です。  
  適当な意味を持たない文字列を指定してください。
- **サイトのアクセスをSSL経由に強制します**  
  - ローカル環境では入力しないでください。
- **管理画面へのアクセスを、以下のIPに制限します**
  - 管理画面へのアクセスを特定のIPアドレスに固定します。  
  ローカル環境では特に指定しなくて大丈夫です。  
  こちらにIPアドレスを指定すると、指定したIPアドレスのみ管理画面にアクセスできます。  
  指定した方がセキュリティは強くなりますが、スマートフォンの公衆回線からアクセスできなくなるなど、利便性は損ないます。  
  固定IPをお持ちでない方は指定しないでください。

*※ 管理画面のアクセス情報が漏洩すると個人情報の漏洩や詐欺に利用されるなど甚大な被害が発生します。取り扱いには充分にご注意ください。*

#### メール設定
ローカル環境では特に指定しなくて大丈夫です。


### データベースの設定入力 
![install step 4](/images/install/gui-win/step5.png)
データベースの情報を入力します。  
**今回はXAMPPで標準に用意されているアカウントを使用します。**

- **データベースの種類**
  - 本番環境ではMySQLかPostgreSQLを利用してください。
- **データベースのホスト名**
  - localhostになります。
- **データベースのポート番号**
  - 指定しなくても大丈夫です。
- **データベース名**
  - 準備したデータベース名を指定してください。  サンプルでは「eccube123_」です。
- **ユーザー名**
  - rootになります。
- **パスワード**
  - 空欄になります。

※ユーザー名やパスワードは本番環境では独自に作成してください。

一通り入力したら*次へ進む*をクリックします。  




### データベースの初期化
![install step 6](/images/install/step6.png)

データベースに初期データを登録します。

*次へ進む*をクリックします。


### インストール完了
![install step 6](/images/install/step7.png)

**おめでとうございます！**  
この画面が表示されたらインストール完了です。  

管理画面の使い方は[こちら](https://www.shiro8.net/manual4/v40x/index.html){:target="_blank"}。

*管理画面を表示*をクリックすると、管理画面のログイン画面に遷移します。[店舗の基本情報](#店舗の基本情報)で入力した管理者の情報で管理画面にログインしてください。  

もし、ここでログインできない場合は、管理者のパスワードやログインIDを間違えて控えた可能性が高いので、インストールしたディレクトリの .envを削除し、データベースを空にして再度インストール手順を行ってください。
