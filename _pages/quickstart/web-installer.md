---
title: サーバーへインストールする
keywords: install
tags: [quickstart, install]
permalink: quickstart/web-installer
folder: quickstart
description: EC-CUBE 4系のインストールについての説明です。
---

## インストールの前に
[システム要件](/quickstart/requirement)を満たしているか確認してください。

このインストール手順では、サーバの設定、FTPソフト等の設定、使いかたについては解説していません。適時お使いのサーバ会社のマニュアル等を参照してください。
- さくらインターネット: [https://help.sakura.ad.jp/206054522/](https://help.sakura.ad.jp/206054522/){:target="_blank"}
- Xserver: [https://www.xserver.ne.jp/manual/man_ftp_setting.php](https://www.xserver.ne.jp/manual/man_ftp_setting.php){:target="_blank"}

**次のステップ**
- [データベースの準備をする](#データベースの準備をする)

----

## データベースの準備をする
EC-CUBEはMySQL、PostgreSQLどちらかのデータベースを使用します。
空のデータベースがひとつ必要ですので、新しく作成してください。
データベースの作成方法は各ホスティング会社のヘルプを参照してください。
- さくらインターネット: [https://help.sakura.ad.jp/360000225021/](https://help.sakura.ad.jp/360000225021/){:target="_blank"}
- Xserver: [https://www.xserver.ne.jp/manual/man_db_setting.php](https://www.xserver.ne.jp/manual/man_db_setting.php){:target="_blank"}

データベースを作成したら以下の4点を控えておいてください。
- データベースユーザ名
  - 例： eccube
- データベースユーザパスワード
  - 例： ht4379reguhfdoj
- データベースホスト名
  - 例： localhost
- データベース名
  - 例： eccube_db

*データベースの接続情報が外部に漏れると、個人情報の漏洩などの原因になります。管理には注意してください*

**次のステップ**
- [メールアカウントの準備をする](#メールアカウントの準備をする)

----

##  メールアカウントの準備をする
EC-CUBEからはサンキューメールや会員登録メールなど、システムから自動でメールが送信されます。
このメールの送信元となるアドレス、メールサーバの設定情報が必要になりますので、ご利用のメールサービスの案内に従い、メールアカウントの情報を準備してください。

必要な情報は
- メールアドレス
- メールアカウントユーザ名
- メールアカウントパスワード
- メールサーバアドレス

*メールアカウントの情報が外部に漏れると、個人情報の漏洩などの原因になります。管理には注意してください*

**次のステップ**
- [EC-CUEBのソースコードファイルをサーバにアップロードする](#ec-cubeのソースコードファイルをサーバにアップロードする)

----

## EC-CUBEのソースコードファイルをサーバにアップロードする
インストールするためにはEC-CUBEのソースコードのファイルがサーバ上に展開されている必要があります。

FileZilla等のファイル転送ソフトを使っても可能ですが、EC-CUBEはファイル数が多く、エラーで全てが一度にアップロードできない事があるため、[EC-CUBE Downloaderを使う](#ec-cubeダウンローダーを使ってファイルを展開する)ことをオススメします。

**次のステップ**
- [EC-CUBEダウンローダーを使ってファイルを展開する](#ec-cubeダウンローダーを使ってファイルを展開する)
- [ダウンロードしたパッケージをアップロードする](#ダウンロードしたパッケージをアップロードする)

----

### EC-CUBEダウンローダーを使ってファイルを展開する
サードパーティ製のダウンローダーを使うと簡単にEC-CUBEのソースコードをサーバ上に展開できます。
![EC-CUBE Donwloader screen shot](https://github.com/tao-s/eccube-downloader/raw/master/EC-CUBE_downloader.gif)

[ここ](https://github.com/tao-s/eccube-downloader/archive/master.zip)からEC-CUBE Downloaderをダウンロードして、以下の手順を踏んでください。

1. ダウンロードされたmaster.zipを展開する。
1. 展開されたフォルダの中の**dw.php**をEC-CUBEをインストールしたいサーバのディレクトリにアップロードする。<br>例: public_html/ など
1. Webブラウザ（Google Chromeを推奨）でアップロードした**dw.php**にアクセスする。<br>例: https://www.example.co.jp/dw.php
1. 表示される「**ダウンロード開始**」をクリックする。
1. しばらくするとEC-CUBEのインストール画面が表示されます。

EC-CUBEのインストール画面が表示されたら[インストールウィザード](#インストールウィザード)に進んでください。

**次のステップ**
- [インストールウィザード](#インストールウィザード)

----

### ダウンロードしたパッケージをアップロードする
**[EC-CUBE Donloaderを使う](#ec-cubeダウンローダーを使ってファイルを展開する)方は不要のステップです。**

[EC-CUBE 4のパッケージ](https://www.ec-cube.net/download/){:target='_blank'}をダウンロードし、解凍してください。

FileZilla等のファイル転送ソフトを使用し、ファイルをサーバへアップロードしてください。  
※*ファイル数が多いためエラーが発生することがございます。エラー発生時は分割してアップロードをお願いします。*

ブラウザからEC-CUBEにアクセスします。  
- 例: `http://example.com/{EC-CUBEをアップロードしたディレクトリ}`

EC-CUBEのインストール画面が表示されたら[インストールウィザード](#インストールウィザード)に進んでください。

*※ FTPやSFTPの接続情報が外部に漏れるとクレジットカードなどの個人情報漏洩、不正アクセスに利用されたりと非常に危険です。取り扱いには注意してください。*

**次のステップ**
- [インストールウィザード](#インストールウィザード)

----

## インストールウィザード
EC-CUBEのソースコードファイルの展開が完了後に、インストールディレクトリにアクセスするとインストーラ画面が表示されます。
このインストールウィザードの指示にしたがってインストールしてください。

*インストーラ画面のURL例： https://wwww.example.com/{EC-CUBEをアップロードしたディレクトリ/}/index.php/install/step1*

![install step1](/images/install/step1.png)
*次へ*をクリックします。

### パーミッション（ファイル権限）チェック

![install step2](/images/install/step2.png)
*次へ進む*をクリックします。

----

### サイトの設定

![install step3](/images/install/step3.png)

#### 店舗の基本情報

- **あなたの店名**
  - 店名を入力してください。日本語でも大丈夫です。
- **メールアドレス**
  - ここで指定するメールアドレス宛に注文通知メールなどが送信されます。
- **管理画面ログインID**
  - 管理画面にログインする際に利用する管理者のログインIDです。一番権限の強いスーパーユーザなので、「admin」とか推測されやすいIDは不正アクセスや情報漏洩の元になるので避けましょう。適当な意味を持たない文字列が良いです。
- **管理画面パスワード**
  - 上記の管理者がログインする際に使用するパスワードを指定します。ここで指定するパスワードを忘れると**管理画面にログインできなくなる**ので必ず控えておきましょう。EC-CUBEには管理者のパスワード再発行機能（パスワードリマインダー）は実装されていません。<br>管理者ログインIDと同様に意味を持たない複雑なパスワードを指定しましょう。「test1234」や「password」とかは**非常に危険なので絶対避けましょう**。
- **管理画面のディレクトリ名**
  - 管理画面にアクセスする場合のURLを指定します。管理画面には
  ここで指定する、 https://www.example.com/{EC-CUBEをインストールしたディレクトリ}/{管理画面のディレクトリ名}/ でアクセスする事になります。<br>このディレクトリ名も「admin」とか「dashboard」など推測されやすい文字列を指定すると危険です。適当な意味を持たない文字列を指定しましょう。
- **サイトのアクセスをSSL経由に強制します**
  - https://〜 でしかアクセスできなくなります。必ずサーバのコントロールパネル等でSSLの設定を行った後にこのチェックを入れてください。**SSLの設定が終わっていない状態でここにチェックを入れると、サイトにアクセスできなくなります。**
- **管理画面へのアクセスを、以下のIPに制限します**
  - 管理画面へのアクセスを特定のIPアドレスに固定します。ここにIPアドレスを指定すると、そのIPアドレスからしか管理画面にアクセスできなくなるので注意してください。指定した方がセキュリティは強くなりますが、スマートフォンの公衆回線からアクセスできなくなるなど、利便性は損ないます。
  固定IPをお持ちでない方は指定しないでください。

*※ 管理画面のアクセス情報が漏洩すると個人情報の漏洩や詐欺に利用されたりと甚大な被害が発生します。取り扱いには充分注意してください。*

#### メール設定
[メールアカウントの準備をする](#メールアカウントの準備をする)で準備したメールアカウントの情報を入力します。

*※ EC-CUBEをインストールしたサーバからsendmail等を使ってメールを送信したい場合は、別途.env等の設定が必要になります。*

一通り入力したら*次へ進む*をクリックします。

**次のステップ**
- [データベースの設定入力](#データベースの設定入力)

----

### データベースの設定入力 
![install step 4](/images/install/step5.png)
[データベースの準備をする](#データベースの準備をする)で準備したデータベースの情報を入力します。

- **データベースの種類**
  - [データベースの準備をする](#データベースの準備をする)で準備したデータベースの種類を選択してください。本番環境ではMySQLかPostgreSQLを利用してください。
- **データベースのホスト名**
  - EC-CUBEを動作させるサーバでMySQL等のデータベースも動いている場合は、localhostや127.0.0.1になります。
- **データベースのポート番号**
  - データベース側で特別な指定がなく、標準のポートを利用している場合は指定しなくても大丈夫です。
- **データベース名**
  - [データベースの準備をする](#データベースの準備をする)で準備したデータベース名を指定してください。MySQLとかPostgreSQLとかではなく、「eccube_db」とかの方のデータベース名です。
- **ユーザ名**
  - EC-CUBEの管理画面ログインIDなどではなく、[データベースの準備をする](#データベースの準備をする)で準備したデータベースのユーザIDを入力してください。
- **パスワード**
  - EC-CUBEの管理画面ログインパスワードなどではなく、[データベースの準備をする](#データベースの準備をする)で準備したデータベースのユーザのパスワードを入力してください。

一通り入力したら*次へ進む*をクリックします。

**次のステップ**
- [データベースの初期化](#データベースの初期化)

----

### データベースの初期化
![install step 6](/images/install/step6.png)

データベースに初期データを登録します。

*次へ進む*をクリックします。

**次のステップ**
- [インストール完了](#インストール完了)

----

### インストール完了
![install step 6](/images/install/step7.png)

**おめでとうございます！**この画面が表示されたらインストール完了です。管理画面にログインして足りない店舗情報や商品登録を行い、ショップの開店準備を進めましょう。

管理画面の使い方は[こちら](https://www.ec-cube.net/manual/ec-cube4/){:target="_blank"}。

*管理画面を表示*をクリックすると、管理画面のログイン画面に遷移します。[店舗の基本情報](#店舗の基本情報)で入力した管理者の情報で管理画面にログインしてみましょう。

もし、ここでログインできない場合は、管理者のパスワードやログインIDを間違えて控えた可能性が高いので、インストールしたディレクトリの .envを削除し、データベースを空にして再度インストール手順を行ってください。

----

### インストール時のよくあるエラー

以下にインストール時に初心者がつまづきやすい点を記載してありますのでご確認ください。

その他のエラーや不具合でインストールできない時は、[開発コミュニティ](https://xoops.ec-cube.net/){:target="_blank"}を検索、質問してみてください。

また、各地で開催されている[ユーザグループの勉強会](https://www.ec-cube.net/news/#events_information){:target="_blank"}に足を運んで聞いてみるのも良いでしょう。

#### データベースに接続できません

- データベースサーバが起動していない
  - データベースを起動してください。
- データベースの情報を間違えている
  - ホスト名、ユーザ名、パスワード、データベース名を確認してください。
- ネットワークの設定に問題がある。
  - EC-CUBEを動かそうとしているサーバからDBサーバに接続できるか確認してください。

#### パーミッション（ファイル権限）エラー
[ここ](/quickstart/permission/#パーミッションの設定について（共通事項）)を見てパーミッションを確認してください。

#### その他

- PHPのバージョンが合ってない/PHPのモジュールが足りない
  - [システム要件](/quickstart/requirement)を確認してください。EC-CUBEを動かすためにはPHP Ver.7.1以上が必要です。
